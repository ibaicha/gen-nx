import { createFeatureSelector, createSelector } from '@ngrx/store'
import { IChargeExploitationState } from './charge_exploitation.model'

/**
 * Sélecteur de base pour l'état des charges d'exploitation
 */
export const selectChargeExploitationState =
  createFeatureSelector<IChargeExploitationState>('chargeExploitation')

/**
 * Sélecteur pour obtenir la liste des charges d'exploitation
 */
export const selectChargeExploitationsList = createSelector(
  selectChargeExploitationState,
  (state) => state.chargeExploitations,
)

/**
 * Sélecteur pour obtenir l'état de chargement
 */
export const selectChargeExploitationIsLoading = createSelector(
  selectChargeExploitationState,
  (state) => state.isLoading,
)

/**
 * Sélecteur pour obtenir une charge d'exploitation par son ID
 * @param itemId - ID de la charge d'exploitation à rechercher
 */
export const selectChargeExploitationById = (itemId: number) =>
  createSelector(selectChargeExploitationState, (state) =>
    state.chargeExploitations.find((item) => item.id === itemId),
  )
