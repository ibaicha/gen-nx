import {IAnnee, IOp, ISaison, IVariete } from '@shared-models'
 
import {
  ICredit,
  IRecolte,
  IRemboursement,
  IUniteGrandeur,
} from './credit.interface'
 

/**
 * Interface étendue d'une exploitation avec données personnalisées
 */
export interface IExploitationCustom {
  /** Identifiant unique */
  id: number
  /** Numéro de compte */
  compte: number
  /** Date de création */
  date: Date
  /** Unité de mesure */
  unite: string
  /** Surface exploitée */
  surface: number

  /** Relations */
  variete: IVariete
  annee: IAnnee
  saison: ISaison
  op: IOp

  /** Clés étrangères */
  varieteId: number
  anneeId: number
  saisonId: number
  opId: number

  /** Collections associées */
  remboursements: IRemboursement[]
  recoltes: IRecolte[]
  exploitationChargeExploitations: IExploitationChargeExploitation[]
  credits: ICredit[]
}

/**
 * Interface représentant un type de charge d'exploitation
 */
export interface ITypeChargeExploitation {
  /** Identifiant unique */
  id: number
  /** Libellé */
  name: string
}

/**
 * Interface représentant une famille de charges d'exploitation
 */
export interface IFamilleChargeExploitation {
  /** Identifiant unique */
  id: number
  /** Libellé */
  name: string
}

/**
 * Interface représentant une charge d'exploitation
 */
export interface IChargeExploitation {
  /** Identifiant unique */
  id: number
  /** Libellé */
  name: string
  /** Unité de mesure */
  unite: string
  /** Prix unitaire */
  pu: number
  /** Quantité par unité de superficie */
  quantite_unite_superficie: number
  /** Indicateurs de type */
  isAchat: boolean
  isProduit: boolean
  isIntrant: boolean

  /** Relations */
  uniteGrandeur: IUniteGrandeur
  typeChargeExploitation: ITypeChargeExploitation
  familleChargeExploitation: IFamilleChargeExploitation

  /** Clés étrangères */
  typeChargeExploitationId: number
  familleChargeExploitationId: number
}

/**
 * Interface représentant la liaison entre exploitation et charge
 */
export interface IExploitationChargeExploitation {
  /** Identifiant unique */
  id: number
  /** Date de la charge */
  date: Date
  /** Prix unitaire */
  pu: number
  /** Quantité */
  quantite: number
  /** Valeur totale */
  valeur: number
  /** Unité de mesure */
  unite: string
  /** Observations */
  observation: string

  /** Clés étrangères */
  exploitationId: number
  chargeExploitationId: number
}
